import{S as et,i as tt,s as nt,a as rt,e as q,c as at,b as G,g as ue,t as C,d as de,f as F,h as V,j as ot,o as Oe,k as st,l as it,m as lt,n as be,p as U,q as ct,r as ft,u as ut,v as z,w as H,x as je,y as W,z as Y,A as se,B as dt}from"./chunks/paths-8476dfd3.js";import{S as Ze,I as T,g as Me,f as Ge,a as ve,b as ie,s as M,i as Ke,c as fe,P as ze,d as pt,e as ht}from"./chunks/singletons-c6e77f73.js";import{_ as Ee}from"./chunks/preload-helper-9b728935.js";function mt(r,e){return r==="/"||e==="ignore"?r:e==="never"?r.endsWith("/")?r.slice(0,-1):r:e==="always"&&!r.endsWith("/")?r+"/":r}function _t(r){return r.split("%25").map(decodeURI).join("%25")}function gt(r){for(const e in r)r[e]=decodeURIComponent(r[e]);return r}const wt=["href","pathname","search","searchParams","toString","toJSON"];function yt(r,e){const n=new URL(r);for(const s of wt){let o=n[s];Object.defineProperty(n,s,{get(){return e(),o},enumerable:!0,configurable:!0})}return bt(n),n}function bt(r){Object.defineProperty(r,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}const vt="/__data.json";function Et(r){return r.replace(/\/$/,"")+vt}function kt(r){let e=5381;if(typeof r=="string"){let n=r.length;for(;n;)e=e*33^r.charCodeAt(--n)}else if(ArrayBuffer.isView(r)){const n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);let s=n.length;for(;s;)e=e*33^n[--s]}else throw new TypeError("value must be a string or TypedArray");return(e>>>0).toString(36)}const pe=window.fetch;window.fetch=(r,e)=>{if((r instanceof Request?r.method:e?.method||"GET")!=="GET"){const s=new URL(r instanceof Request?r.url:r.toString(),document.baseURI).href;Q.delete(s)}return pe(r,e)};const Q=new Map;function St(r,e){const n=xe(r,e),s=document.querySelector(n);if(s?.textContent){const{body:o,...c}=JSON.parse(s.textContent),a=s.getAttribute("data-ttl");return a&&Q.set(n,{body:o,init:c,ttl:1e3*Number(a)}),Promise.resolve(new Response(o,c))}return pe(r,e)}function Rt(r,e,n){if(Q.size>0){const s=xe(r,n),o=Q.get(s);if(o){if(performance.now()<o.ttl)return new Response(o.body,o.init);Q.delete(s)}}return pe(e,n)}function xe(r,e){let s=`script[data-sveltekit-fetched][data-url=${JSON.stringify(r instanceof Request?r.url:r)}]`;return e?.body&&(typeof e.body=="string"||ArrayBuffer.isView(e.body))&&(s+=`[data-hash="${kt(e.body)}"]`),s}const It=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function Ot(r){const e=[];return{pattern:r==="/"?/^\/$/:new RegExp(`^${$t(r).map(s=>{const o=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(s);if(o)return e.push({name:o[1],matcher:o[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const c=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(s);if(c)return e.push({name:c[1],matcher:c[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!s)return;const a=s.split(/\[(.+?)\](?!\])/);return"/"+a.map((h,m)=>{if(m%2){if(h.startsWith("x+"))return ke(String.fromCharCode(parseInt(h.slice(2),16)));if(h.startsWith("u+"))return ke(String.fromCharCode(...h.slice(2).split("-").map(D=>parseInt(D,16))));const g=It.exec(h);if(!g)throw new Error(`Invalid param: ${h}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,v,k,A,O]=g;return e.push({name:A,matcher:O,optional:!!v,rest:!!k,chained:k?m===1&&a[0]==="":!1}),k?"(.*?)":v?"([^/]*)?":"([^/]+?)"}return ke(h)}).join("")}).join("")}/?$`),params:e}}function Lt(r){return!/^\([^)]+\)$/.test(r)}function $t(r){return r.slice(1).split("/").filter(Lt)}function Pt(r,e,n){const s={},o=r.slice(1);let c="";for(let a=0;a<e.length;a+=1){const f=e[a];let h=o[a];if(f.chained&&f.rest&&c&&(h=h?c+"/"+h:c),c="",h===void 0)f.rest&&(s[f.name]="");else{if(f.matcher&&!n[f.matcher](h)){if(f.optional&&f.chained){let m=o.indexOf(void 0,a);if(m===-1){const g=e[a+1];if(g?.rest&&g.chained)c=h;else return}for(;m>=a;)o[m]=o[m-1],m-=1;continue}return}s[f.name]=h}}if(!c)return s}function ke(r){return r.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function jt(r,e,n,s){const o=new Set(e);return Object.entries(n).map(([f,[h,m,g]])=>{const{pattern:v,params:k}=Ot(f),A={id:f,exec:O=>{const D=v.exec(O);if(D)return Pt(D,k,s)},errors:[1,...g||[]].map(O=>r[O]),layouts:[0,...m||[]].map(a),leaf:c(h)};return A.errors.length=A.layouts.length=Math.max(A.errors.length,A.layouts.length),A});function c(f){const h=f<0;return h&&(f=~f),[h,r[f]]}function a(f){return f===void 0?f:[o.has(f),r[f]]}}function At(r){let e,n,s;var o=r[0][0];function c(a){return{props:{data:a[2],form:a[1]}}}return o&&(e=z(o,c(r))),{c(){e&&H(e.$$.fragment),n=q()},l(a){e&&je(e.$$.fragment,a),n=q()},m(a,f){e&&W(e,a,f),G(a,n,f),s=!0},p(a,f){const h={};if(f&4&&(h.data=a[2]),f&2&&(h.form=a[1]),o!==(o=a[0][0])){if(e){ue();const m=e;C(m.$$.fragment,1,0,()=>{Y(m,1)}),de()}o?(e=z(o,c(a)),H(e.$$.fragment),F(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}else o&&e.$set(h)},i(a){s||(e&&F(e.$$.fragment,a),s=!0)},o(a){e&&C(e.$$.fragment,a),s=!1},d(a){a&&V(n),e&&Y(e,a)}}}function Nt(r){let e,n,s;var o=r[0][0];function c(a){return{props:{data:a[2],$$slots:{default:[Ut]},$$scope:{ctx:a}}}}return o&&(e=z(o,c(r))),{c(){e&&H(e.$$.fragment),n=q()},l(a){e&&je(e.$$.fragment,a),n=q()},m(a,f){e&&W(e,a,f),G(a,n,f),s=!0},p(a,f){const h={};if(f&4&&(h.data=a[2]),f&523&&(h.$$scope={dirty:f,ctx:a}),o!==(o=a[0][0])){if(e){ue();const m=e;C(m.$$.fragment,1,0,()=>{Y(m,1)}),de()}o?(e=z(o,c(a)),H(e.$$.fragment),F(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}else o&&e.$set(h)},i(a){s||(e&&F(e.$$.fragment,a),s=!0)},o(a){e&&C(e.$$.fragment,a),s=!1},d(a){a&&V(n),e&&Y(e,a)}}}function Ut(r){let e,n,s;var o=r[0][1];function c(a){return{props:{data:a[3],form:a[1]}}}return o&&(e=z(o,c(r))),{c(){e&&H(e.$$.fragment),n=q()},l(a){e&&je(e.$$.fragment,a),n=q()},m(a,f){e&&W(e,a,f),G(a,n,f),s=!0},p(a,f){const h={};if(f&8&&(h.data=a[3]),f&2&&(h.form=a[1]),o!==(o=a[0][1])){if(e){ue();const m=e;C(m.$$.fragment,1,0,()=>{Y(m,1)}),de()}o?(e=z(o,c(a)),H(e.$$.fragment),F(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}else o&&e.$set(h)},i(a){s||(e&&F(e.$$.fragment,a),s=!0)},o(a){e&&C(e.$$.fragment,a),s=!1},d(a){a&&V(n),e&&Y(e,a)}}}function He(r){let e,n=r[5]&&We(r);return{c(){e=st("div"),n&&n.c(),this.h()},l(s){e=it(s,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var o=lt(e);n&&n.l(o),o.forEach(V),this.h()},h(){be(e,"id","svelte-announcer"),be(e,"aria-live","assertive"),be(e,"aria-atomic","true"),U(e,"position","absolute"),U(e,"left","0"),U(e,"top","0"),U(e,"clip","rect(0 0 0 0)"),U(e,"clip-path","inset(50%)"),U(e,"overflow","hidden"),U(e,"white-space","nowrap"),U(e,"width","1px"),U(e,"height","1px")},m(s,o){G(s,e,o),n&&n.m(e,null)},p(s,o){s[5]?n?n.p(s,o):(n=We(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(s){s&&V(e),n&&n.d()}}}function We(r){let e;return{c(){e=ct(r[6])},l(n){e=ft(n,r[6])},m(n,s){G(n,e,s)},p(n,s){s&64&&ut(e,n[6])},d(n){n&&V(e)}}}function Tt(r){let e,n,s,o,c;const a=[Nt,At],f=[];function h(g,v){return g[0][1]?0:1}e=h(r),n=f[e]=a[e](r);let m=r[4]&&He(r);return{c(){n.c(),s=rt(),m&&m.c(),o=q()},l(g){n.l(g),s=at(g),m&&m.l(g),o=q()},m(g,v){f[e].m(g,v),G(g,s,v),m&&m.m(g,v),G(g,o,v),c=!0},p(g,[v]){let k=e;e=h(g),e===k?f[e].p(g,v):(ue(),C(f[k],1,1,()=>{f[k]=null}),de(),n=f[e],n?n.p(g,v):(n=f[e]=a[e](g),n.c()),F(n,1),n.m(s.parentNode,s)),g[4]?m?m.p(g,v):(m=He(g),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null)},i(g){c||(F(n),c=!0)},o(g){C(n),c=!1},d(g){f[e].d(g),g&&V(s),m&&m.d(g),g&&V(o)}}}function Dt(r,e,n){let{stores:s}=e,{page:o}=e,{components:c}=e,{form:a}=e,{data_0:f=null}=e,{data_1:h=null}=e;ot(s.page.notify);let m=!1,g=!1,v=null;return Oe(()=>{const k=s.page.subscribe(()=>{m&&(n(5,g=!0),n(6,v=document.title||"untitled page"))});return n(4,m=!0),k}),r.$$set=k=>{"stores"in k&&n(7,s=k.stores),"page"in k&&n(8,o=k.page),"components"in k&&n(0,c=k.components),"form"in k&&n(1,a=k.form),"data_0"in k&&n(2,f=k.data_0),"data_1"in k&&n(3,h=k.data_1)},r.$$.update=()=>{r.$$.dirty&384&&s.page.set(o)},[c,a,f,h,m,g,v,s,o]}class qt extends et{constructor(e){super(),tt(this,e,Dt,Tt,nt,{stores:7,page:8,components:0,form:1,data_0:2,data_1:3})}}const Ct={},he=[()=>Ee(()=>import("./chunks/0-64edc2a1.js"),["./chunks/0-64edc2a1.js","./chunks/_layout-244212a4.js","./components/pages/_layout.svelte-152482ed.js","./chunks/paths-8476dfd3.js","./chunks/preload-helper-9b728935.js","./assets/_layout-4668b8a0.css"],import.meta.url),()=>Ee(()=>import("./chunks/1-a7a0b19a.js"),["./chunks/1-a7a0b19a.js","./components/error.svelte-f8bd1965.js","./chunks/paths-8476dfd3.js","./chunks/singletons-c6e77f73.js"],import.meta.url),()=>Ee(()=>import("./chunks/2-b4ccc9f3.js"),["./chunks/2-b4ccc9f3.js","./components/pages/_page.svelte-bdd96c09.js","./chunks/paths-8476dfd3.js","./chunks/linkedin-ddb79f0d.js","./chunks/github-34533889.js","./chunks/preload-helper-9b728935.js","./assets/_page-464fb901.css"],import.meta.url)],Ft=[],Vt={"/":[2]},Bt={handleError:({error:r})=>{console.error(r)}};class Le{constructor(e,n){this.status=e,typeof n=="string"?this.body={message:n}:n?this.body=n:this.body={message:`Error: ${e}`}}toString(){return JSON.stringify(this.body)}}class Ye{constructor(e,n){this.status=e,this.location=n}}async function Jt(r){for(const e in r)if(typeof r[e]?.then=="function")return Object.fromEntries(await Promise.all(Object.entries(r).map(async([n,s])=>[n,await s])));return r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");const Mt=-1,Gt=-2,Kt=-3,zt=-4,Ht=-5,Wt=-6;function Yt(r){if(typeof r=="number")return s(r,!0);if(!Array.isArray(r)||r.length===0)throw new Error("Invalid input");const e=r,n=Array(e.length);function s(o,c=!1){if(o===Mt)return;if(o===Kt)return NaN;if(o===zt)return 1/0;if(o===Ht)return-1/0;if(o===Wt)return-0;if(c)throw new Error("Invalid input");if(o in n)return n[o];const a=e[o];if(!a||typeof a!="object")n[o]=a;else if(Array.isArray(a))if(typeof a[0]=="string")switch(a[0]){case"Date":n[o]=new Date(a[1]);break;case"Set":const h=new Set;n[o]=h;for(let v=1;v<a.length;v+=1)h.add(s(a[v]));break;case"Map":const m=new Map;n[o]=m;for(let v=1;v<a.length;v+=2)m.set(s(a[v]),s(a[v+1]));break;case"RegExp":n[o]=new RegExp(a[1],a[2]);break;case"Object":n[o]=Object(a[1]);break;case"BigInt":n[o]=BigInt(a[1]);break;case"null":const g=Object.create(null);n[o]=g;for(let v=1;v<a.length;v+=2)g[a[v]]=s(a[v+1]);break}else{const f=new Array(a.length);n[o]=f;for(let h=0;h<a.length;h+=1){const m=a[h];m!==Gt&&(f[h]=s(m))}}else{const f={};n[o]=f;for(const h in a){const m=a[h];f[h]=s(m)}}return n[o]}return s(0)}const Se=jt(he,Ft,Vt,Ct),$e=he[0],Pe=he[1];$e();Pe();let ee={};try{ee=JSON.parse(sessionStorage[Ze])}catch{}function Re(r){ee[r]=fe()}function Xt({target:r,base:e}){const n=[];let s=null;const o={before_navigate:[],after_navigate:[]};let c={branch:[],error:null,url:null},a=!1,f=!1,h=!0,m=!1,g=!1,v=!1,k=!1,A,O=history.state?.[T];O||(O=Date.now(),history.replaceState({...history.state,[T]:O},"",location.href));const D=ee[O];D&&(history.scrollRestoration="manual",scrollTo(D.x,D.y));let B,Ae,te;async function Ne(){te=te||Promise.resolve(),await te,te=null;const t=new URL(location.href),i=we(t,!0);s=null,await Te(i,t,[])}async function me(t,{noScroll:i=!1,replaceState:l=!1,keepFocus:u=!1,state:d={},invalidateAll:_=!1},p,w){return typeof t=="string"&&(t=new URL(t,Me(document))),ae({url:t,scroll:i?fe():null,keepfocus:u,redirect_chain:p,details:{state:d,replaceState:l},nav_token:w,accepted:()=>{_&&(k=!0)},blocked:()=>{},type:"goto"})}async function Ue(t){const i=we(t,!1);if(!i)throw new Error(`Attempted to preload a URL that does not belong to this app: ${t}`);return s={id:i.id,promise:Ce(i).then(l=>(l.type==="loaded"&&l.state.error&&(s=null),l))},s.promise}async function ne(...t){const l=Se.filter(u=>t.some(d=>u.exec(d))).map(u=>Promise.all([...u.layouts,u.leaf].map(d=>d?.[1]())));await Promise.all(l)}async function Te(t,i,l,u,d={},_){Ae=d;let p=t&&await Ce(t);if(p||(p=await Be(i,{id:null},await x(new Error(`Not found: ${i.pathname}`),{url:i,params:{},route:{id:null}}),404)),i=t?.url||i,Ae!==d)return!1;if(p.type==="redirect")if(l.length>10||l.includes(i.pathname))p=await re({status:500,error:await x(new Error("Redirect loop"),{url:i,params:{},route:{id:null}}),url:i,route:{id:null}});else return me(new URL(p.location,i).href,{},[...l,i.pathname],d),!1;else p.props?.page?.status>=400&&await M.updated.check()&&await oe(i);if(n.length=0,k=!1,m=!0,u&&u.details){const{details:w}=u,E=w.replaceState?0:1;w.state[T]=O+=E,history[w.replaceState?"replaceState":"pushState"](w.state,"",i)}if(s=null,f){c=p.state,p.props.page&&(p.props.page.url=i);const w=ce();A.$set(p.props),w()}else De(p);if(u){const{scroll:w,keepfocus:E}=u;if(E||Ie(),await se(),h){const b=i.hash&&document.getElementById(i.hash.slice(1));w?scrollTo(w.x,w.y):b?b.scrollIntoView():scrollTo(0,0)}}else await se();h=!0,p.props.page&&(B=p.props.page),_&&_(),m=!1}function De(t){c=t.state;const i=document.querySelector("style[data-sveltekit]");i&&i.remove(),B=t.props.page;const l=ce();A=new qt({target:r,props:{...t.props,stores:M},hydrate:!0}),l();const u={from:null,to:le("to",{params:c.params,route:{id:c.route?.id??null},url:new URL(location.href)}),willUnload:!1,type:"enter"};o.after_navigate.forEach(d=>d(u)),f=!0}async function X({url:t,params:i,branch:l,status:u,error:d,route:_,form:p}){const w=l.filter(Boolean);let E="never";for(const S of l)S?.slash!==void 0&&(E=S.slash);t.pathname=mt(t.pathname,E),t.search=t.search;const b={type:"loaded",state:{url:t,params:i,branch:l,error:d,route:_},props:{components:w.map(S=>S.node.component)}};p!==void 0&&(b.props.form=p);let R={},y=!B;for(let S=0;S<w.length;S+=1){const $=w[S];R={...R,...$.data},(y||!c.branch.some(J=>J===$))&&(b.props[`data_${S}`]=R,y=y||Object.keys($.data??{}).length>0)}if(y||(y=Object.keys(B.data).length!==Object.keys(R).length),!c.url||t.href!==c.url.href||c.error!==d||p!==void 0||y){b.props.page={error:d,params:i,route:_,status:u,url:new URL(t),form:p,data:y?R:B.data},Object.defineProperty(b.props.page,"routeId",{get(){throw new Error("$page.routeId has been replaced by $page.route.id")},enumerable:!1});const S=($,J)=>{Object.defineProperty(b.props.page,$,{get:()=>{throw new Error(`$page.${$} has been replaced by $page.url.${J}`)}})};S("origin","origin"),S("path","pathname"),S("query","searchParams")}return b}async function _e({loader:t,parent:i,url:l,params:u,route:d,server_data_node:_}){let p=null;const w={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},E=await t();if(E.shared?.load){let b=function(...y){for(const L of y){const{href:S}=new URL(L,l);w.dependencies.add(S)}};const R={route:{get id(){return w.route=!0,d.id}},params:new Proxy(u,{get:(y,L)=>(w.params.add(L),y[L])}),data:_?.data??null,url:yt(l,()=>{w.url=!0}),async fetch(y,L){let S;y instanceof Request?(S=y.url,L={body:y.method==="GET"||y.method==="HEAD"?void 0:await y.blob(),cache:y.cache,credentials:y.credentials,headers:y.headers,integrity:y.integrity,keepalive:y.keepalive,method:y.method,mode:y.mode,redirect:y.redirect,referrer:y.referrer,referrerPolicy:y.referrerPolicy,signal:y.signal,...L}):S=y;const $=new URL(S,l).href;return b($),f?Rt(S,$,L):St(S,L)},setHeaders:()=>{},depends:b,parent(){return w.parent=!0,i()}};Object.defineProperties(R,{props:{get(){throw new Error("@migration task: Replace `props` with `data` stuff https://github.com/sveltejs/kit/discussions/5774#discussioncomment-3292693")},enumerable:!1},session:{get(){throw new Error("session is no longer available. See https://github.com/sveltejs/kit/discussions/5883")},enumerable:!1},stuff:{get(){throw new Error("@migration task: Remove stuff https://github.com/sveltejs/kit/discussions/5774#discussioncomment-3292693")},enumerable:!1},routeId:{get(){throw new Error("routeId has been replaced by route.id")},enumerable:!1}}),p=await E.shared.load.call(null,R)??null,p=p?await Jt(p):null}return{node:E,loader:t,server:_,shared:E.shared?.load?{type:"data",data:p,uses:w}:null,data:p??_?.data??null,slash:E.shared?.trailingSlash??_?.slash}}function qe(t,i,l,u,d){if(k)return!0;if(!u)return!1;if(u.parent&&t||u.route&&i||u.url&&l)return!0;for(const _ of u.params)if(d[_]!==c.params[_])return!0;for(const _ of u.dependencies)if(n.some(p=>p(new URL(_))))return!0;return!1}function ge(t,i){return t?.type==="data"?{type:"data",data:t.data,uses:{dependencies:new Set(t.uses.dependencies??[]),params:new Set(t.uses.params??[]),parent:!!t.uses.parent,route:!!t.uses.route,url:!!t.uses.url},slash:t.slash}:t?.type==="skip"?i??null:null}async function Ce({id:t,invalidating:i,url:l,params:u,route:d}){if(s?.id===t)return s.promise;const{errors:_,layouts:p,leaf:w}=d,E=[...p,w];_.forEach(I=>I?.().catch(()=>{})),E.forEach(I=>I?.[1]().catch(()=>{}));let b=null;const R=c.url?t!==c.url.pathname+c.url.search:!1,y=c.route?t!==c.route.id:!1,L=E.reduce((I,P,N)=>{const j=c.branch[N],K=!!P?.[0]&&(j?.loader!==P[1]||qe(I.some(Boolean),y,R,j.server?.uses,u));return I.push(K),I},[]);if(L.some(Boolean)){try{b=await Xe(l,L)}catch(I){return re({status:500,error:await x(I,{url:l,params:u,route:{id:d.id}}),url:l,route:d})}if(b.type==="redirect")return b}const S=b?.nodes;let $=!1;const J=E.map(async(I,P)=>{if(!I)return;const N=c.branch[P],j=S?.[P];if((!j||j.type==="skip")&&I[1]===N?.loader&&!qe($,y,R,N.shared?.uses,u))return N;if($=!0,j?.type==="error")throw j;return _e({loader:I[1],url:l,params:u,route:d,parent:async()=>{const Je={};for(let ye=0;ye<P;ye+=1)Object.assign(Je,(await J[ye])?.data);return Je},server_data_node:ge(j===void 0&&I[0]?{type:"skip"}:j??null,N?.server)})});for(const I of J)I.catch(()=>{});const Z=[];for(let I=0;I<E.length;I+=1)if(E[I])try{Z.push(await J[I])}catch(P){if(P instanceof Ye)return{type:"redirect",location:P.location};let N=500,j;S?.includes(P)?(N=P.status??N,j=P.error):P instanceof Le?(N=P.status,j=P.body):j=await x(P,{params:u,url:l,route:{id:d.id}});const K=await Fe(I,Z,_);return K?await X({url:l,params:u,branch:Z.slice(0,K.idx).concat(K.node),status:N,error:j,route:d}):await Be(l,{id:d.id},j,N)}else Z.push(void 0);return await X({url:l,params:u,branch:Z,status:200,error:null,route:d,form:i?void 0:null})}async function Fe(t,i,l){for(;t--;)if(l[t]){let u=t;for(;!i[u];)u-=1;try{return{idx:u+1,node:{node:await l[t](),loader:l[t],data:{},server:null,shared:null}}}catch{continue}}}async function re({status:t,error:i,url:l,route:u}){const d={},_=await $e();let p=null;if(_.server)try{const b=await Xe(l,[!0]);if(b.type!=="data"||b.nodes[0]&&b.nodes[0].type!=="data")throw 0;p=b.nodes[0]??null}catch{(l.origin!==location.origin||l.pathname!==location.pathname||a)&&await oe(l)}const w=await _e({loader:$e,url:l,params:d,route:u,parent:()=>Promise.resolve({}),server_data_node:ge(p)}),E={node:await Pe(),loader:Pe,shared:null,server:null,data:null};return await X({url:l,params:d,branch:[w,E],status:t,error:i,route:null})}function we(t,i){if(Ke(t,e))return;const l=_t(t.pathname.slice(e.length)||"/");for(const u of Se){const d=u.exec(l);if(d)return{id:t.pathname+t.search,invalidating:i,route:u,params:gt(d),url:t}}}function Ve({url:t,type:i,intent:l,delta:u}){let d=!1;const _={from:le("from",{params:c.params,route:{id:c.route?.id??null},url:c.url}),to:le("to",{params:l?.params??null,route:{id:l?.route?.id??null},url:t}),willUnload:!l,type:i};u!==void 0&&(_.delta=u);const p={..._,cancel:()=>{d=!0}};return g||o.before_navigate.forEach(w=>w(p)),d?null:_}async function ae({url:t,scroll:i,keepfocus:l,redirect_chain:u,details:d,type:_,delta:p,nav_token:w,accepted:E,blocked:b}){const R=we(t,!1),y=Ve({url:t,type:_,delta:p,intent:R});if(!y){b();return}Re(O),E(),g=!0,f&&M.navigating.set(y),await Te(R,t,u,{scroll:i,keepfocus:l,details:d},w,()=>{g=!1,o.after_navigate.forEach(L=>L(y)),M.navigating.set(null)})}async function Be(t,i,l,u){return t.origin===location.origin&&t.pathname===location.pathname&&!a?await re({status:u,error:l,url:t,route:i}):await oe(t)}function oe(t){return location.href=t.href,new Promise(()=>{})}function Qe(){let t;r.addEventListener("mousemove",_=>{const p=_.target;clearTimeout(t),t=setTimeout(()=>{u(p,2)},20)});function i(_){u(_.composedPath()[0],1)}r.addEventListener("mousedown",i),r.addEventListener("touchstart",i,{passive:!0});const l=new IntersectionObserver(_=>{for(const p of _)p.isIntersecting&&(ne(new URL(p.target.href).pathname),l.unobserve(p.target))},{threshold:0});function u(_,p){const w=Ge(_,r);if(!w)return;const{url:E,external:b}=ve(w,e);if(b)return;const R=ie(w);R.reload||(p<=R.preload_data?Ue(E):p<=R.preload_code&&ne(E.pathname))}function d(){l.disconnect();for(const _ of r.querySelectorAll("a")){const{url:p,external:w}=ve(_,e);if(w)continue;const E=ie(_);E.reload||(E.preload_code===ze.viewport&&l.observe(_),E.preload_code===ze.eager&&ne(p.pathname))}}o.after_navigate.push(d),d()}return{after_navigate:t=>{Oe(()=>(o.after_navigate.push(t),()=>{const i=o.after_navigate.indexOf(t);o.after_navigate.splice(i,1)}))},before_navigate:t=>{Oe(()=>(o.before_navigate.push(t),()=>{const i=o.before_navigate.indexOf(t);o.before_navigate.splice(i,1)}))},disable_scroll_handling:()=>{(m||!f)&&(h=!1)},goto:(t,i={})=>{if("keepfocus"in i&&!("keepFocus"in i))throw new Error("`keepfocus` has been renamed to `keepFocus` (note the difference in casing)");if("noscroll"in i&&!("noScroll"in i))throw new Error("`noscroll` has been renamed to `noScroll` (note the difference in casing)");return me(t,i,[])},invalidate:t=>{if(t===void 0)throw new Error("`invalidate()` (with no arguments) has been replaced by `invalidateAll()`");if(typeof t=="function")n.push(t);else{const{href:i}=new URL(t,location.href);n.push(l=>l.href===i)}return Ne()},invalidateAll:()=>(k=!0,Ne()),preload_data:async t=>{const i=new URL(t,Me(document));await Ue(i)},preload_code:ne,apply_action:async t=>{if(t.type==="error"){const i=new URL(location.href),{branch:l,route:u}=c;if(!u)return;const d=await Fe(c.branch.length,l,u.errors);if(d){const _=await X({url:i,params:c.params,branch:l.slice(0,d.idx).concat(d.node),status:500,error:t.error,route:u});c=_.state;const p=ce();A.$set(_.props),p(),se().then(Ie)}}else if(t.type==="redirect")me(t.location,{invalidateAll:!0},[]);else{const i={form:t.data,page:{...B,form:t.data,status:t.status}},l=ce();A.$set(i),l(),t.type==="success"&&se().then(Ie)}},_start_router:()=>{history.scrollRestoration="manual",addEventListener("beforeunload",t=>{let i=!1;if(!g){const l={from:le("from",{params:c.params,route:{id:c.route?.id??null},url:c.url}),to:null,willUnload:!0,type:"leave",cancel:()=>i=!0};o.before_navigate.forEach(u=>u(l))}i?(t.preventDefault(),t.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){Re(O);try{sessionStorage[Ze]=JSON.stringify(ee)}catch{}}}),navigator.connection?.saveData||Qe(),r.addEventListener("click",t=>{if(t.button||t.which!==1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.defaultPrevented)return;const i=Ge(t.composedPath()[0],r);if(!i)return;const{url:l,external:u,has:d}=ve(i,e),_=ie(i);if(!l||!(i instanceof SVGAElement)&&l.protocol!==location.protocol&&!(l.protocol==="https:"||l.protocol==="http:")||d.download)return;if(u||_.reload){Ve({url:l,type:"link"})||t.preventDefault(),g=!0;return}const[w,E]=l.href.split("#");if(E!==void 0&&w===location.href.split("#")[0]){v=!0,Re(O),c.url=l,M.page.set({...B,url:l}),M.page.notify();return}ae({url:l,scroll:_.noscroll?fe():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:l.href===location.href},accepted:()=>t.preventDefault(),blocked:()=>t.preventDefault(),type:"link"})}),r.addEventListener("submit",t=>{if(t.defaultPrevented)return;const i=HTMLFormElement.prototype.cloneNode.call(t.target),l=t.submitter;if((l?.formMethod||i.method)!=="get")return;const d=new URL(t.submitter?.hasAttribute("formaction")&&l?.formAction||i.action);if(Ke(d,e))return;const{noscroll:_,reload:p}=ie(t.target);p||(t.preventDefault(),t.stopPropagation(),d.search=new URLSearchParams(new FormData(t.target)).toString(),ae({url:d,scroll:_?fe():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:!1},nav_token:{},accepted:()=>{},blocked:()=>{},type:"form"}))}),addEventListener("popstate",t=>{if(t.state?.[T]){if(t.state[T]===O)return;const i=t.state[T]-O;ae({url:new URL(location.href),scroll:ee[t.state[T]],keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{O=t.state[T]},blocked:()=>{history.go(-i)},type:"popstate",delta:i})}}),addEventListener("hashchange",()=>{v&&(v=!1,history.replaceState({...history.state,[T]:++O},"",location.href))});for(const t of document.querySelectorAll("link"))t.rel==="icon"&&(t.href=t.href);addEventListener("pageshow",t=>{t.persisted&&M.navigating.set(null)})},_hydrate:async({status:t,error:i,node_ids:l,params:u,route:d,data:_,form:p})=>{a=!0;const w=new URL(location.href);let E;try{const b=l.map(async(R,y)=>{const L=_[y];return _e({loader:he[R],url:w,params:u,route:d,parent:async()=>{const S={};for(let $=0;$<y;$+=1)Object.assign(S,(await b[$]).data);return S},server_data_node:ge(L)})});E=await X({url:w,params:u,branch:await Promise.all(b),status:t,error:i,form:p,route:Se.find(({id:R})=>R===d.id)??null})}catch(b){if(b instanceof Ye){await oe(new URL(b.location,location.href));return}E=await re({status:b instanceof Le?b.status:500,error:await x(b,{url:w,params:u,route:d}),url:w,route:d})}De(E)}}}async function Xe(r,e){const n=new URL(r);n.pathname=Et(r.pathname),n.searchParams.append("x-sveltekit-invalidated",e.map(c=>c?"1":"").join("_"));const s=await pe(n.href),o=await s.json();if(!s.ok)throw new Error(o);return o.nodes?.forEach(c=>{c?.type==="data"&&(c.data=Yt(c.data),c.uses={dependencies:new Set(c.uses.dependencies??[]),params:new Set(c.uses.params??[]),parent:!!c.uses.parent,route:!!c.uses.route,url:!!c.uses.url})}),o}function x(r,e){return r instanceof Le?r.body:Bt.handleError({error:r,event:e})??{message:e.route.id!=null?"Internal Error":"Not Found"}}const Zt=["hash","href","host","hostname","origin","pathname","port","protocol","search","searchParams","toString","toJSON"];function le(r,e){for(const n of Zt)Object.defineProperty(e,n,{get(){throw new Error(`The navigation shape changed - ${r}.${n} should now be ${r}.url.${n}`)},enumerable:!1});return Object.defineProperty(e,"routeId",{get(){throw new Error(`The navigation shape changed - ${r}.routeId should now be ${r}.route.id`)},enumerable:!1}),e}function ce(){return()=>{}}function Ie(){const r=document.querySelector("[autofocus]");if(r)r.focus();else{const e=document.body,n=e.getAttribute("tabindex");e.tabIndex=-1,e.focus({preventScroll:!0}),setTimeout(()=>{getSelection()?.removeAllRanges()}),n!==null?e.setAttribute("tabindex",n):e.removeAttribute("tabindex")}}async function tn({env:r,hydrate:e,paths:n,target:s,version:o}){dt(n),ht(o);const c=Xt({target:s,base:n.base});pt({client:c}),e?await c._hydrate(e):c.goto(location.href,{replaceState:!0}),c._start_router()}export{tn as start};
