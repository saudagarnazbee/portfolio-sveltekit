import{S as Ze,i as xe,s as Qe,a as et,e as q,c as tt,b as K,g as le,t as C,d as ce,f as V,h as F,j as nt,o as Re,k as at,l as rt,m as ot,n as we,p as U,q as st,r as it,u as lt,v as M,w as H,x as Le,y as W,z as Y,A as oe,B as ct}from"./chunks/paths-8476dfd3.js";import{S as We,I as T,g as Je,f as ye,s as G,a as Ie,i as ft,P as Ge,b as ut,c as dt}from"./chunks/singletons-15d942d0.js";import{_ as be}from"./chunks/preload-helper-9b728935.js";function pt(a,e){return a==="/"||e==="ignore"?a:e==="never"?a.endsWith("/")?a.slice(0,-1):a:e==="always"&&!a.endsWith("/")?a+"/":a}function ht(a){return a.split("%25").map(decodeURI).join("%25")}function mt(a){for(const e in a)a[e]=decodeURIComponent(a[e]);return a}const _t=["href","pathname","search","searchParams","toString","toJSON"];function gt(a,e){const t=new URL(a);for(const s of _t){let o=t[s];Object.defineProperty(t,s,{get(){return e(),o},enumerable:!0,configurable:!0})}return wt(t),t}function wt(a){Object.defineProperty(a,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}const yt="/__data.json";function bt(a){return a.replace(/\/$/,"")+yt}function vt(a){let e=5381;if(typeof a=="string"){let t=a.length;for(;t;)e=e*33^a.charCodeAt(--t)}else if(ArrayBuffer.isView(a)){const t=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);let s=t.length;for(;s;)e=e*33^t[--s]}else throw new TypeError("value must be a string or TypedArray");return(e>>>0).toString(36)}const fe=window.fetch;window.fetch=(a,e)=>{if((a instanceof Request?a.method:e?.method||"GET")!=="GET"){const s=new URL(a instanceof Request?a.url:a.toString(),document.baseURI).href;Q.delete(s)}return fe(a,e)};const Q=new Map;function Et(a,e){const t=Ye(a,e),s=document.querySelector(t);if(s?.textContent){const{body:o,...l}=JSON.parse(s.textContent),r=s.getAttribute("data-ttl");return r&&Q.set(t,{body:o,init:l,ttl:1e3*Number(r)}),Promise.resolve(new Response(o,l))}return fe(a,e)}function kt(a,e,t){if(Q.size>0){const s=Ye(a,t),o=Q.get(s);if(o){if(performance.now()<o.ttl)return new Response(o.body,o.init);Q.delete(s)}}return fe(e,t)}function Ye(a,e){let s=`script[data-sveltekit-fetched][data-url=${JSON.stringify(a instanceof Request?a.url:a)}]`;return e?.body&&(typeof e.body=="string"||ArrayBuffer.isView(e.body))&&(s+=`[data-hash="${vt(e.body)}"]`),s}const St=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function Rt(a){const e=[];return{pattern:a==="/"?/^\/$/:new RegExp(`^${Ot(a).map(s=>{const o=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(s);if(o)return e.push({name:o[1],matcher:o[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const l=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(s);if(l)return e.push({name:l[1],matcher:l[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!s)return;const r=s.split(/\[(.+?)\](?!\])/);return"/"+r.map((h,m)=>{if(m%2){if(h.startsWith("x+"))return ve(String.fromCharCode(parseInt(h.slice(2),16)));if(h.startsWith("u+"))return ve(String.fromCharCode(...h.slice(2).split("-").map(D=>parseInt(D,16))));const g=St.exec(h);if(!g)throw new Error(`Invalid param: ${h}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,b,k,A,I]=g;return e.push({name:A,matcher:I,optional:!!b,rest:!!k,chained:k?m===1&&r[0]==="":!1}),k?"(.*?)":b?"([^/]*)?":"([^/]+?)"}return ve(h)}).join("")}).join("")}/?$`),params:e}}function It(a){return!/^\([^)]+\)$/.test(a)}function Ot(a){return a.slice(1).split("/").filter(It)}function $t(a,e,t){const s={},o=a.slice(1);let l="";for(let r=0;r<e.length;r+=1){const f=e[r];let h=o[r];if(f.chained&&f.rest&&l&&(h=h?l+"/"+h:l),l="",h===void 0)f.rest&&(s[f.name]="");else{if(f.matcher&&!t[f.matcher](h)){if(f.optional&&f.chained){let m=o.indexOf(void 0,r);if(m===-1){const g=e[r+1];if(g?.rest&&g.chained)l=h;else return}for(;m>=r;)o[m]=o[m-1],m-=1;continue}return}s[f.name]=h}}if(!l)return s}function ve(a){return a.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function jt(a,e,t,s){const o=new Set(e);return Object.entries(t).map(([f,[h,m,g]])=>{const{pattern:b,params:k}=Rt(f),A={id:f,exec:I=>{const D=b.exec(I);if(D)return $t(D,k,s)},errors:[1,...g||[]].map(I=>a[I]),layouts:[0,...m||[]].map(r),leaf:l(h)};return A.errors.length=A.layouts.length=Math.max(A.errors.length,A.layouts.length),A});function l(f){const h=f<0;return h&&(f=~f),[h,a[f]]}function r(f){return f===void 0?f:[o.has(f),a[f]]}}function Lt(a){let e,t,s;var o=a[0][0];function l(r){return{props:{data:r[2],form:r[1]}}}return o&&(e=M(o,l(a))),{c(){e&&H(e.$$.fragment),t=q()},l(r){e&&Le(e.$$.fragment,r),t=q()},m(r,f){e&&W(e,r,f),K(r,t,f),s=!0},p(r,f){const h={};if(f&4&&(h.data=r[2]),f&2&&(h.form=r[1]),o!==(o=r[0][0])){if(e){le();const m=e;C(m.$$.fragment,1,0,()=>{Y(m,1)}),ce()}o?(e=M(o,l(r)),H(e.$$.fragment),V(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else o&&e.$set(h)},i(r){s||(e&&V(e.$$.fragment,r),s=!0)},o(r){e&&C(e.$$.fragment,r),s=!1},d(r){r&&F(t),e&&Y(e,r)}}}function Pt(a){let e,t,s;var o=a[0][0];function l(r){return{props:{data:r[2],$$slots:{default:[At]},$$scope:{ctx:r}}}}return o&&(e=M(o,l(a))),{c(){e&&H(e.$$.fragment),t=q()},l(r){e&&Le(e.$$.fragment,r),t=q()},m(r,f){e&&W(e,r,f),K(r,t,f),s=!0},p(r,f){const h={};if(f&4&&(h.data=r[2]),f&523&&(h.$$scope={dirty:f,ctx:r}),o!==(o=r[0][0])){if(e){le();const m=e;C(m.$$.fragment,1,0,()=>{Y(m,1)}),ce()}o?(e=M(o,l(r)),H(e.$$.fragment),V(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else o&&e.$set(h)},i(r){s||(e&&V(e.$$.fragment,r),s=!0)},o(r){e&&C(e.$$.fragment,r),s=!1},d(r){r&&F(t),e&&Y(e,r)}}}function At(a){let e,t,s;var o=a[0][1];function l(r){return{props:{data:r[3],form:r[1]}}}return o&&(e=M(o,l(a))),{c(){e&&H(e.$$.fragment),t=q()},l(r){e&&Le(e.$$.fragment,r),t=q()},m(r,f){e&&W(e,r,f),K(r,t,f),s=!0},p(r,f){const h={};if(f&8&&(h.data=r[3]),f&2&&(h.form=r[1]),o!==(o=r[0][1])){if(e){le();const m=e;C(m.$$.fragment,1,0,()=>{Y(m,1)}),ce()}o?(e=M(o,l(r)),H(e.$$.fragment),V(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else o&&e.$set(h)},i(r){s||(e&&V(e.$$.fragment,r),s=!0)},o(r){e&&C(e.$$.fragment,r),s=!1},d(r){r&&F(t),e&&Y(e,r)}}}function Ke(a){let e,t=a[5]&&ze(a);return{c(){e=at("div"),t&&t.c(),this.h()},l(s){e=rt(s,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var o=ot(e);t&&t.l(o),o.forEach(F),this.h()},h(){we(e,"id","svelte-announcer"),we(e,"aria-live","assertive"),we(e,"aria-atomic","true"),U(e,"position","absolute"),U(e,"left","0"),U(e,"top","0"),U(e,"clip","rect(0 0 0 0)"),U(e,"clip-path","inset(50%)"),U(e,"overflow","hidden"),U(e,"white-space","nowrap"),U(e,"width","1px"),U(e,"height","1px")},m(s,o){K(s,e,o),t&&t.m(e,null)},p(s,o){s[5]?t?t.p(s,o):(t=ze(s),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(s){s&&F(e),t&&t.d()}}}function ze(a){let e;return{c(){e=st(a[6])},l(t){e=it(t,a[6])},m(t,s){K(t,e,s)},p(t,s){s&64&&lt(e,t[6])},d(t){t&&F(e)}}}function Nt(a){let e,t,s,o,l;const r=[Pt,Lt],f=[];function h(g,b){return g[0][1]?0:1}e=h(a),t=f[e]=r[e](a);let m=a[4]&&Ke(a);return{c(){t.c(),s=et(),m&&m.c(),o=q()},l(g){t.l(g),s=tt(g),m&&m.l(g),o=q()},m(g,b){f[e].m(g,b),K(g,s,b),m&&m.m(g,b),K(g,o,b),l=!0},p(g,[b]){let k=e;e=h(g),e===k?f[e].p(g,b):(le(),C(f[k],1,1,()=>{f[k]=null}),ce(),t=f[e],t?t.p(g,b):(t=f[e]=r[e](g),t.c()),V(t,1),t.m(s.parentNode,s)),g[4]?m?m.p(g,b):(m=Ke(g),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null)},i(g){l||(V(t),l=!0)},o(g){C(t),l=!1},d(g){f[e].d(g),g&&F(s),m&&m.d(g),g&&F(o)}}}function Ut(a,e,t){let{stores:s}=e,{page:o}=e,{components:l}=e,{form:r}=e,{data_0:f=null}=e,{data_1:h=null}=e;nt(s.page.notify);let m=!1,g=!1,b=null;return Re(()=>{const k=s.page.subscribe(()=>{m&&(t(5,g=!0),t(6,b=document.title||"untitled page"))});return t(4,m=!0),k}),a.$$set=k=>{"stores"in k&&t(7,s=k.stores),"page"in k&&t(8,o=k.page),"components"in k&&t(0,l=k.components),"form"in k&&t(1,r=k.form),"data_0"in k&&t(2,f=k.data_0),"data_1"in k&&t(3,h=k.data_1)},a.$$.update=()=>{a.$$.dirty&384&&s.page.set(o)},[l,r,f,h,m,g,b,s,o]}class Tt extends Ze{constructor(e){super(),xe(this,e,Ut,Nt,Qe,{stores:7,page:8,components:0,form:1,data_0:2,data_1:3})}}const Dt={},ue=[()=>be(()=>import("./chunks/0-4bbb8184.js"),["./chunks/0-4bbb8184.js","./chunks/_layout-244212a4.js","./components/pages/_layout.svelte-af8015f4.js","./chunks/paths-8476dfd3.js","./chunks/preload-helper-9b728935.js","./assets/_layout-4668b8a0.css"],import.meta.url),()=>be(()=>import("./chunks/1-59d27a79.js"),["./chunks/1-59d27a79.js","./components/error.svelte-4b2d9960.js","./chunks/paths-8476dfd3.js","./chunks/singletons-15d942d0.js"],import.meta.url),()=>be(()=>import("./chunks/2-d21e67f3.js"),["./chunks/2-d21e67f3.js","./components/pages/_page.svelte-99178877.js","./chunks/paths-8476dfd3.js","./chunks/linkedin-2fc999e3.js","./chunks/github-f211f58b.js","./chunks/preload-helper-9b728935.js","./assets/_page-464fb901.css"],import.meta.url)],qt=[],Ct={"/":[2]},Vt={handleError:({error:a})=>{console.error(a)}};class Oe{constructor(e,t){this.status=e,typeof t=="string"?this.body={message:t}:t?this.body=t:this.body={message:`Error: ${e}`}}toString(){return JSON.stringify(this.body)}}class Me{constructor(e,t){this.status=e,this.location=t}}async function Ft(a){for(const e in a)if(typeof a[e]?.then=="function")return Object.fromEntries(await Promise.all(Object.entries(a).map(async([t,s])=>[t,await s])));return a}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");const Bt=-1,Jt=-2,Gt=-3,Kt=-4,zt=-5,Mt=-6;function Ht(a){if(typeof a=="number")return s(a,!0);if(!Array.isArray(a)||a.length===0)throw new Error("Invalid input");const e=a,t=Array(e.length);function s(o,l=!1){if(o===Bt)return;if(o===Gt)return NaN;if(o===Kt)return 1/0;if(o===zt)return-1/0;if(o===Mt)return-0;if(l)throw new Error("Invalid input");if(o in t)return t[o];const r=e[o];if(!r||typeof r!="object")t[o]=r;else if(Array.isArray(r))if(typeof r[0]=="string")switch(r[0]){case"Date":t[o]=new Date(r[1]);break;case"Set":const h=new Set;t[o]=h;for(let b=1;b<r.length;b+=1)h.add(s(r[b]));break;case"Map":const m=new Map;t[o]=m;for(let b=1;b<r.length;b+=2)m.set(s(r[b]),s(r[b+1]));break;case"RegExp":t[o]=new RegExp(r[1],r[2]);break;case"Object":t[o]=Object(r[1]);break;case"BigInt":t[o]=BigInt(r[1]);break;case"null":const g=Object.create(null);t[o]=g;for(let b=1;b<r.length;b+=2)g[r[b]]=s(r[b+1]);break}else{const f=new Array(r.length);t[o]=f;for(let h=0;h<r.length;h+=1){const m=r[h];m!==Jt&&(f[h]=s(m))}}else{const f={};t[o]=f;for(const h in r){const m=r[h];f[h]=s(m)}}return t[o]}return s(0)}const Ee=jt(ue,qt,Ct,Dt),$e=ue[0],je=ue[1];$e();je();let ee={};try{ee=JSON.parse(sessionStorage[We])}catch{}function ke(a){ee[a]=Ie()}function Wt({target:a,base:e}){const t=[];let s=null;const o={before_navigate:[],after_navigate:[]};let l={branch:[],error:null,url:null},r=!1,f=!1,h=!0,m=!1,g=!1,b=!1,k=!1,A,I=history.state?.[T];I||(I=Date.now(),history.replaceState({...history.state,[T]:I},"",location.href));const D=ee[I];D&&(history.scrollRestoration="manual",scrollTo(D.x,D.y));let B,Pe,te;async function Ae(){te=te||Promise.resolve(),await te,te=null;const n=new URL(location.href),i=me(n,!0);s=null,await Ue(i,n,[])}async function de(n,{noScroll:i=!1,replaceState:c=!1,keepFocus:u=!1,state:d={},invalidateAll:_=!1},p,w){return typeof n=="string"&&(n=new URL(n,Je(document))),_e({url:n,scroll:i?Ie():null,keepfocus:u,redirect_chain:p,details:{state:d,replaceState:c},nav_token:w,accepted:()=>{_&&(k=!0)},blocked:()=>{},type:"goto"})}async function Ne(n){const i=me(n,!1);if(!i)throw new Error(`Attempted to preload a URL that does not belong to this app: ${n}`);return s={id:i.id,promise:qe(i).then(c=>(c.type==="loaded"&&c.state.error&&(s=null),c))},s.promise}async function ne(...n){const c=Ee.filter(u=>n.some(d=>u.exec(d))).map(u=>Promise.all([...u.layouts,u.leaf].map(d=>d?.[1]())));await Promise.all(c)}async function Ue(n,i,c,u,d={},_){Pe=d;let p=n&&await qe(n);if(p||(p=await Fe(i,{id:null},await x(new Error(`Not found: ${i.pathname}`),{url:i,params:{},route:{id:null}}),404)),i=n?.url||i,Pe!==d)return!1;if(p.type==="redirect")if(c.length>10||c.includes(i.pathname))p=await ae({status:500,error:await x(new Error("Redirect loop"),{url:i,params:{},route:{id:null}}),url:i,route:{id:null}});else return de(new URL(p.location,i).href,{},[...c,i.pathname],d),!1;else p.props?.page?.status>=400&&await G.updated.check()&&await re(i);if(t.length=0,k=!1,m=!0,u&&u.details){const{details:w}=u,E=w.replaceState?0:1;w.state[T]=I+=E,history[w.replaceState?"replaceState":"pushState"](w.state,"",i)}if(s=null,f){l=p.state,p.props.page&&(p.props.page.url=i);const w=ie();A.$set(p.props),w()}else Te(p);if(u){const{scroll:w,keepfocus:E}=u;if(E||Se(),await oe(),h){const v=i.hash&&document.getElementById(i.hash.slice(1));w?scrollTo(w.x,w.y):v?v.scrollIntoView():scrollTo(0,0)}}else await oe();h=!0,p.props.page&&(B=p.props.page),_&&_(),m=!1}function Te(n){l=n.state;const i=document.querySelector("style[data-sveltekit]");i&&i.remove(),B=n.props.page;const c=ie();A=new Tt({target:a,props:{...n.props,stores:G},hydrate:!0}),c();const u={from:null,to:se("to",{params:l.params,route:{id:l.route?.id??null},url:new URL(location.href)}),willUnload:!1,type:"enter"};o.after_navigate.forEach(d=>d(u)),f=!0}async function X({url:n,params:i,branch:c,status:u,error:d,route:_,form:p}){const w=c.filter(Boolean);let E="never";for(const S of c)S?.slash!==void 0&&(E=S.slash);n.pathname=pt(n.pathname,E),n.search=n.search;const v={type:"loaded",state:{url:n,params:i,branch:c,error:d,route:_},props:{components:w.map(S=>S.node.component)}};p!==void 0&&(v.props.form=p);let O={},y=!B;for(let S=0;S<w.length;S+=1){const j=w[S];O={...O,...j.data},(y||!l.branch.some(J=>J===j))&&(v.props[`data_${S}`]=O,y=y||Object.keys(j.data??{}).length>0)}if(y||(y=Object.keys(B.data).length!==Object.keys(O).length),!l.url||n.href!==l.url.href||l.error!==d||p!==void 0||y){v.props.page={error:d,params:i,route:_,status:u,url:new URL(n),form:p,data:y?O:B.data},Object.defineProperty(v.props.page,"routeId",{get(){throw new Error("$page.routeId has been replaced by $page.route.id")},enumerable:!1});const S=(j,J)=>{Object.defineProperty(v.props.page,j,{get:()=>{throw new Error(`$page.${j} has been replaced by $page.url.${J}`)}})};S("origin","origin"),S("path","pathname"),S("query","searchParams")}return v}async function pe({loader:n,parent:i,url:c,params:u,route:d,server_data_node:_}){let p=null;const w={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},E=await n();if(E.shared?.load){let v=function(...y){for(const $ of y){const{href:S}=new URL($,c);w.dependencies.add(S)}};const O={route:{get id(){return w.route=!0,d.id}},params:new Proxy(u,{get:(y,$)=>(w.params.add($),y[$])}),data:_?.data??null,url:gt(c,()=>{w.url=!0}),async fetch(y,$){let S;y instanceof Request?(S=y.url,$={body:y.method==="GET"||y.method==="HEAD"?void 0:await y.blob(),cache:y.cache,credentials:y.credentials,headers:y.headers,integrity:y.integrity,keepalive:y.keepalive,method:y.method,mode:y.mode,redirect:y.redirect,referrer:y.referrer,referrerPolicy:y.referrerPolicy,signal:y.signal,...$}):S=y;const j=new URL(S,c).href;return v(j),f?kt(S,j,$):Et(S,$)},setHeaders:()=>{},depends:v,parent(){return w.parent=!0,i()}};Object.defineProperties(O,{props:{get(){throw new Error("@migration task: Replace `props` with `data` stuff https://github.com/sveltejs/kit/discussions/5774#discussioncomment-3292693")},enumerable:!1},session:{get(){throw new Error("session is no longer available. See https://github.com/sveltejs/kit/discussions/5883")},enumerable:!1},stuff:{get(){throw new Error("@migration task: Remove stuff https://github.com/sveltejs/kit/discussions/5774#discussioncomment-3292693")},enumerable:!1},routeId:{get(){throw new Error("routeId has been replaced by route.id")},enumerable:!1}}),p=await E.shared.load.call(null,O)??null,p=p?await Ft(p):null}return{node:E,loader:n,server:_,shared:E.shared?.load?{type:"data",data:p,uses:w}:null,data:p??_?.data??null,slash:E.shared?.trailingSlash??_?.slash}}function De(n,i,c,u,d){if(k)return!0;if(!u)return!1;if(u.parent&&n||u.route&&i||u.url&&c)return!0;for(const _ of u.params)if(d[_]!==l.params[_])return!0;for(const _ of u.dependencies)if(t.some(p=>p(new URL(_))))return!0;return!1}function he(n,i){return n?.type==="data"?{type:"data",data:n.data,uses:{dependencies:new Set(n.uses.dependencies??[]),params:new Set(n.uses.params??[]),parent:!!n.uses.parent,route:!!n.uses.route,url:!!n.uses.url},slash:n.slash}:n?.type==="skip"?i??null:null}async function qe({id:n,invalidating:i,url:c,params:u,route:d}){if(s?.id===n)return s.promise;const{errors:_,layouts:p,leaf:w}=d,E=[...p,w];_.forEach(R=>R?.().catch(()=>{})),E.forEach(R=>R?.[1]().catch(()=>{}));let v=null;const O=l.url?n!==l.url.pathname+l.url.search:!1,y=l.route?n!==l.route.id:!1,$=E.reduce((R,L,N)=>{const P=l.branch[N],z=!!L?.[0]&&(P?.loader!==L[1]||De(R.some(Boolean),y,O,P.server?.uses,u));return R.push(z),R},[]);if($.some(Boolean)){try{v=await He(c,$)}catch(R){return ae({status:500,error:await x(R,{url:c,params:u,route:{id:d.id}}),url:c,route:d})}if(v.type==="redirect")return v}const S=v?.nodes;let j=!1;const J=E.map(async(R,L)=>{if(!R)return;const N=l.branch[L],P=S?.[L];if((!P||P.type==="skip")&&R[1]===N?.loader&&!De(j,y,O,N.shared?.uses,u))return N;if(j=!0,P?.type==="error")throw P;return pe({loader:R[1],url:c,params:u,route:d,parent:async()=>{const Be={};for(let ge=0;ge<L;ge+=1)Object.assign(Be,(await J[ge])?.data);return Be},server_data_node:he(P===void 0&&R[0]?{type:"skip"}:P??null,N?.server)})});for(const R of J)R.catch(()=>{});const Z=[];for(let R=0;R<E.length;R+=1)if(E[R])try{Z.push(await J[R])}catch(L){if(L instanceof Me)return{type:"redirect",location:L.location};let N=500,P;S?.includes(L)?(N=L.status??N,P=L.error):L instanceof Oe?(N=L.status,P=L.body):P=await x(L,{params:u,url:c,route:{id:d.id}});const z=await Ce(R,Z,_);return z?await X({url:c,params:u,branch:Z.slice(0,z.idx).concat(z.node),status:N,error:P,route:d}):await Fe(c,{id:d.id},P,N)}else Z.push(void 0);return await X({url:c,params:u,branch:Z,status:200,error:null,route:d,form:i?void 0:null})}async function Ce(n,i,c){for(;n--;)if(c[n]){let u=n;for(;!i[u];)u-=1;try{return{idx:u+1,node:{node:await c[n](),loader:c[n],data:{},server:null,shared:null}}}catch{continue}}}async function ae({status:n,error:i,url:c,route:u}){const d={},_=await $e();let p=null;if(_.server)try{const v=await He(c,[!0]);if(v.type!=="data"||v.nodes[0]&&v.nodes[0].type!=="data")throw 0;p=v.nodes[0]??null}catch{(c.origin!==location.origin||c.pathname!==location.pathname||r)&&await re(c)}const w=await pe({loader:$e,url:c,params:d,route:u,parent:()=>Promise.resolve({}),server_data_node:he(p)}),E={node:await je(),loader:je,shared:null,server:null,data:null};return await X({url:c,params:d,branch:[w,E],status:n,error:i,route:null})}function me(n,i){if(ft(n,e))return;const c=ht(n.pathname.slice(e.length)||"/");for(const u of Ee){const d=u.exec(c);if(d)return{id:n.pathname+n.search,invalidating:i,route:u,params:mt(d),url:n}}}function Ve({url:n,type:i,intent:c,delta:u}){let d=!1;const _={from:se("from",{params:l.params,route:{id:l.route?.id??null},url:l.url}),to:se("to",{params:c?.params??null,route:{id:c?.route?.id??null},url:n}),willUnload:!c,type:i};u!==void 0&&(_.delta=u);const p={..._,cancel:()=>{d=!0}};return g||o.before_navigate.forEach(w=>w(p)),d?null:_}async function _e({url:n,scroll:i,keepfocus:c,redirect_chain:u,details:d,type:_,delta:p,nav_token:w,accepted:E,blocked:v}){const O=me(n,!1),y=Ve({url:n,type:_,delta:p,intent:O});if(!y){v();return}ke(I),E(),g=!0,f&&G.navigating.set(y),await Ue(O,n,u,{scroll:i,keepfocus:c,details:d},w,()=>{g=!1,o.after_navigate.forEach($=>$(y)),G.navigating.set(null)})}async function Fe(n,i,c,u){return n.origin===location.origin&&n.pathname===location.pathname&&!r?await ae({status:u,error:c,url:n,route:i}):await re(n)}function re(n){return location.href=n.href,new Promise(()=>{})}function Xe(){let n;a.addEventListener("mousemove",_=>{const p=_.target;clearTimeout(n),n=setTimeout(()=>{u(p,2)},20)});function i(_){u(_.composedPath()[0],1)}a.addEventListener("mousedown",i),a.addEventListener("touchstart",i,{passive:!0});const c=new IntersectionObserver(_=>{for(const p of _)p.isIntersecting&&(ne(new URL(p.target.href).pathname),c.unobserve(p.target))},{threshold:0});function u(_,p){const{url:w,options:E,external:v}=ye(_,e);v||(p<=E.preload_data?Ne(w):p<=E.preload_code&&ne(w.pathname))}function d(){c.disconnect();for(const _ of a.querySelectorAll("a")){const{url:p,external:w,options:E}=ye(_,e);w||(E.preload_code===Ge.viewport&&c.observe(_),E.preload_code===Ge.eager&&ne(p.pathname))}}o.after_navigate.push(d),d()}return{after_navigate:n=>{Re(()=>(o.after_navigate.push(n),()=>{const i=o.after_navigate.indexOf(n);o.after_navigate.splice(i,1)}))},before_navigate:n=>{Re(()=>(o.before_navigate.push(n),()=>{const i=o.before_navigate.indexOf(n);o.before_navigate.splice(i,1)}))},disable_scroll_handling:()=>{(m||!f)&&(h=!1)},goto:(n,i={})=>{if("keepfocus"in i&&!("keepFocus"in i))throw new Error("`keepfocus` has been renamed to `keepFocus` (note the difference in casing)");if("noscroll"in i&&!("noScroll"in i))throw new Error("`noscroll` has been renamed to `noScroll` (note the difference in casing)");return de(n,i,[])},invalidate:n=>{if(n===void 0)throw new Error("`invalidate()` (with no arguments) has been replaced by `invalidateAll()`");if(typeof n=="function")t.push(n);else{const{href:i}=new URL(n,location.href);t.push(c=>c.href===i)}return Ae()},invalidateAll:()=>(k=!0,Ae()),preload_data:async n=>{const i=new URL(n,Je(document));await Ne(i)},preload_code:ne,apply_action:async n=>{if(n.type==="error"){const i=new URL(location.href),{branch:c,route:u}=l;if(!u)return;const d=await Ce(l.branch.length,c,u.errors);if(d){const _=await X({url:i,params:l.params,branch:c.slice(0,d.idx).concat(d.node),status:500,error:n.error,route:u});l=_.state;const p=ie();A.$set(_.props),p(),oe().then(Se)}}else if(n.type==="redirect")de(n.location,{invalidateAll:!0},[]);else{const i={form:n.data,page:{...B,form:n.data,status:n.status}},c=ie();A.$set(i),c(),n.type==="success"&&oe().then(Se)}},_start_router:()=>{history.scrollRestoration="manual",addEventListener("beforeunload",n=>{let i=!1;if(!g){const c={from:se("from",{params:l.params,route:{id:l.route?.id??null},url:l.url}),to:null,willUnload:!0,type:"leave",cancel:()=>i=!0};o.before_navigate.forEach(u=>u(c))}i?(n.preventDefault(),n.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){ke(I);try{sessionStorage[We]=JSON.stringify(ee)}catch{}}}),navigator.connection?.saveData||Xe(),a.addEventListener("click",n=>{if(n.button||n.which!==1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.defaultPrevented)return;const{a:i,url:c,options:u,has:d}=ye(n.composedPath()[0],e);if(!i||!c||!(i instanceof SVGAElement)&&c.protocol!==location.protocol&&!(c.protocol==="https:"||c.protocol==="http:")||d.download)return;if(u.reload||d.rel_external||d.target){Ve({url:c,type:"link"})||n.preventDefault(),g=!0;return}const[p,w]=c.href.split("#");if(w!==void 0&&p===location.href.split("#")[0]){b=!0,ke(I),l.url=c,G.page.set({...B,url:c}),G.page.notify();return}_e({url:c,scroll:u.noscroll?Ie():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:c.href===location.href},accepted:()=>n.preventDefault(),blocked:()=>n.preventDefault(),type:"link"})}),addEventListener("popstate",n=>{if(n.state?.[T]){if(n.state[T]===I)return;const i=n.state[T]-I;_e({url:new URL(location.href),scroll:ee[n.state[T]],keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{I=n.state[T]},blocked:()=>{history.go(-i)},type:"popstate",delta:i})}}),addEventListener("hashchange",()=>{b&&(b=!1,history.replaceState({...history.state,[T]:++I},"",location.href))});for(const n of document.querySelectorAll("link"))n.rel==="icon"&&(n.href=n.href);addEventListener("pageshow",n=>{n.persisted&&G.navigating.set(null)})},_hydrate:async({status:n,error:i,node_ids:c,params:u,route:d,data:_,form:p})=>{r=!0;const w=new URL(location.href);let E;try{const v=c.map(async(O,y)=>{const $=_[y];return pe({loader:ue[O],url:w,params:u,route:d,parent:async()=>{const S={};for(let j=0;j<y;j+=1)Object.assign(S,(await v[j]).data);return S},server_data_node:he($)})});E=await X({url:w,params:u,branch:await Promise.all(v),status:n,error:i,form:p,route:Ee.find(({id:O})=>O===d.id)??null})}catch(v){if(v instanceof Me){await re(new URL(v.location,location.href));return}E=await ae({status:v instanceof Oe?v.status:500,error:await x(v,{url:w,params:u,route:d}),url:w,route:d})}Te(E)}}}async function He(a,e){const t=new URL(a);t.pathname=bt(a.pathname);const s=await fe(t.href,{headers:{"x-sveltekit-invalidated":e.map(l=>l?"1":"").join(",")}}),o=await s.json();if(!s.ok)throw new Error(o);return o.nodes?.forEach(l=>{l?.type==="data"&&(l.data=Ht(l.data),l.uses={dependencies:new Set(l.uses.dependencies??[]),params:new Set(l.uses.params??[]),parent:!!l.uses.parent,route:!!l.uses.route,url:!!l.uses.url})}),o}function x(a,e){return a instanceof Oe?a.body:Vt.handleError({error:a,event:e})??{message:e.route.id!=null?"Internal Error":"Not Found"}}const Yt=["hash","href","host","hostname","origin","pathname","port","protocol","search","searchParams","toString","toJSON"];function se(a,e){for(const t of Yt)Object.defineProperty(e,t,{get(){throw new Error(`The navigation shape changed - ${a}.${t} should now be ${a}.url.${t}`)},enumerable:!1});return Object.defineProperty(e,"routeId",{get(){throw new Error(`The navigation shape changed - ${a}.routeId should now be ${a}.route.id`)},enumerable:!1}),e}function ie(){return()=>{}}function Se(){const a=document.querySelector("[autofocus]");if(a)a.focus();else{const e=document.body,t=e.getAttribute("tabindex");e.tabIndex=-1,e.focus({preventScroll:!0}),setTimeout(()=>{getSelection()?.removeAllRanges()}),t!==null?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}}async function Qt({env:a,hydrate:e,paths:t,target:s,version:o}){ct(t),dt(o);const l=Wt({target:s,base:t.base});ut({client:l}),e?await l._hydrate(e):l.goto(location.href,{replaceState:!0}),l._start_router()}export{Qt as start};
